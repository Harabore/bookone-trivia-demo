<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SMS Quiz Simulator - BookOne</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <h1>ðŸ“© SMS Quiz Simulator</h1>
    <div id="sms-screen">
      <div id="sms-chat" class="chat-window">
        <div class="msg incoming">Welcome to BookOne Trivia! Reply START to begin.</div>
      </div>
      <input id="sms-input" placeholder="Type your message..." />
      <button class="btn" id="send-sms">Send</button>
    </div>
    <footer>
      <a href="index.html">â¬… Back to Web Demo</a>
    </footer>
  </div>

  <script>
    const smsChat = document.getElementById('sms-chat');
    const smsInput = document.getElementById('sms-input');
    const sendBtn = document.getElementById('send-sms');

    const smsQuestions = [
      { q: "Q1: Who is the President of Kenya?\n1) William Ruto\n2) Raila Odinga\n3) Uhuru Kenyatta\n4) Kalonzo Musyoka", a: 1 },
      { q: "Q2: Capital city of Tanzania?\n1) Arusha\n2) Dodoma\n3) Dar es Salaam\n4) Mwanza", a: 2 },
      { q: "Q3: Which is the largest ocean?\n1) Atlantic\n2) Indian\n3) Pacific\n4) Arctic", a: 3 }
    ];

    let currentQ = 0, started = false, score = 0;

    sendBtn.addEventListener('click', () => {
      const msg = smsInput.value.trim();
      if (!msg) return;
      addMessage(msg, 'outgoing');
      smsInput.value = '';

      if (!started && msg.toUpperCase() === 'START') {
        started = true;
        sendQuestion();
      } else if (started && currentQ < smsQuestions.length) {
        handleAnswer(msg);
      } else if (!started) {
        addMessage("Please reply START to begin the quiz.", 'incoming');
      }
    });

    function sendQuestion() {
      if (currentQ < smsQuestions.length) {
        addMessage(smsQuestions[currentQ].q, 'incoming');
      } else {
        addMessage(`Quiz Complete! You scored ${score} out of ${smsQuestions.length * 10}.`, 'incoming');
      }
    }

    function handleAnswer(msg) {
      const ans = parseInt(msg);
      if (ans === smsQuestions[currentQ].a) score += 10;
      currentQ++;
      setTimeout(sendQuestion, 800);
    }

    function addMessage(text, type) {
      const div = document.createElement('div');
      div.className = `msg ${type}`;
      div.textContent = text;
      smsChat.appendChild(div);
      smsChat.scrollTop = smsChat.scrollHeight;
    }
  </script>
</body>
</html>
